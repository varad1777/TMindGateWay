{
  "Routes": [
    {
      "UpstreamPathTemplate": "/api/auth/{everything}",
      "UpstreamHttpMethod": ["POST","GET"],
      "DownstreamPathTemplate": "/api/{everything}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [{ "Host": "auth-service", "Port": 5001 }],
      "DownstreamHeaderTransform": { "Cookie": "{Headers.Cookie}" },
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "Limit": 3,
        "ClientIdHeader": "X-Forwarded-For",
        "QuotaExceededMessage": "Too many login attempts. Try again later!",
        "ClientWhitelist": []
      }
    },
    {
      "UpstreamPathTemplate": "/api/asset/{everything}",
      "UpstreamHttpMethod": ["GET","POST","PUT","DELETE"],
      "DownstreamPathTemplate": "/api/{everything}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [{ "Host": "asset-service", "Port": 5003 }],
      "DownstreamHeaderTransform": { "Cookie": "{Headers.Cookie}" },
      "RateLimitOptions": {
        "EnableRateLimiting": true,
        "Period": "1m",
        "Limit": 80,
        "ClientIdHeader": "Authorization",
        "QuotaExceededMessage": "Too many requests. Try again later!",
        "ClientWhitelist": []
      }
    }
  ],
  "GlobalConfiguration": {
    "RequestIdKey": "X-Request-ID",
    "RateLimitOptions": {
      "ClientIdHeader": "Authorization",
      "QuotaExceededMessage": "Too many requests. Try again later!",
      "StatusCode": 429,
      "DisableRateLimitHeaders": false
    }
  }
}
